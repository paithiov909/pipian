<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Kato Akiru" />

<meta name="date" content="2019-11-17" />

<title>About pipian package</title>




<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">About pipian package</h1>
<h4 class="author">Kato Akiru</h4>
<h4 class="date">2019-11-17</h4>



<div id="section" class="section level2">
<h2>これは何？</h2>
<p><a href="https://github.com/paithiov909/pipian">paithiov909/pipian: Tiny Interface to CaboCha</a></p>
<p>RからCaboChaを呼ぶためのライブラリ。<code>shell()</code>から<code>cabocha -f3</code>コマンドを呼んで出力した一時ファイル（XML）を読みに行っている。Rcpp経由ではないため大規模に実行するには不向きだが、CaboChaとMeCabのパスが通っていれば使えるはずなので導入は楽。mecabrcは渡せるようにした気がする。</p>
<p>これで使えるようになる。</p>
<p><code>remotes::install_github(&quot;paithiov909/pipian&quot;)</code></p>
</div>
<div id="section-1" class="section level2">
<h2>モチベーション</h2>
<p>以前つくった<a href="https://qiita.com/paithiov909/items/27fe2def6e8d15261519">Rからkuromoji.jsで形態素解析するオレオレパッケージ</a>から機能を切り分けたかった。</p>
</div>
<div id="section-2" class="section level2">
<h2>使い方</h2>
<div id="xml" class="section level3">
<h3>XML出力のパース</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1">res &lt;-<span class="st"> </span>pipian<span class="op">::</span><span class="kw">CabochaTbl</span>(<span class="st">&quot;ふと振り向くと、たくさんの味方がいてたくさんの優しい人間がいることを、わざわざ自分の誕生日が来ないと気付けない自分を奮い立たせながらも、毎日こんな、湖のようななんの引っ掛かりもない、落ちつき倒し、音一つも感じさせない人間でいれる方に憧れを持てたとある25歳の眩しき朝のことでした&quot;</span>)</a>
<a class="sourceLine" id="cb1-2" title="2">res<span class="op">$</span>tbl</a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">#&gt; # A tibble: 37 x 4</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">#&gt;    id    link  score     morphs      </span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="co">#&gt;    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;       </span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="co">#&gt;  1 0     1     1.287564  ふと        </span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co">#&gt;  2 1     36    -2.336376 振り向くと、</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="co">#&gt;  3 2     3     1.927252  たくさんの  </span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="co">#&gt;  4 3     4     0.834422  味方が      </span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="co">#&gt;  5 4     8     2.020974  いて        </span></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="co">#&gt;  6 5     7     1.913107  たくさんの  </span></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="co">#&gt;  7 6     7     1.773527  優しい      </span></a>
<a class="sourceLine" id="cb1-13" title="13"><span class="co">#&gt;  8 7     8     2.371958  人間が      </span></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="co">#&gt;  9 8     9     3.138138  いる        </span></a>
<a class="sourceLine" id="cb1-15" title="15"><span class="co">#&gt; 10 9     13    0.293884  ことを、    </span></a>
<a class="sourceLine" id="cb1-16" title="16"><span class="co">#&gt; # ... with 27 more rows</span></a></code></pre></div>
<p>これで<code>res$plot()</code>するとグラフが描ける。</p>
<div class="figure">
<img src="data:image/png;base64,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OSduJnuiG1L6fPwRvSgIclJmppUz27wxCHJWJk3Aj9YgyEmZTtuDIK1BkJNyT8FQyCAx2xVntRlU5dlQV/XGjD7DK9EYzmozqMqz0p+5Tgm53W7StSn9kvi3o2E31ONZidM73D1TyZDtSi2DJlCVpyW0EjIIks1DpA1pBLV4WlLCrNut62Ptm5YLk1CXZ2OUvkGGMUia085JbQd1eTLG6U0k9La0IJzXRlCRJ2NSEP1A8KMl1OTJUBaol1xcRgPSFmrybMSfBdOvHfEbq/TVFd9iNYJafAm4/OpRIMhLgCCPAkFeAgR5FAhyeviDtY8EQU4PfjwSBDk/CPJAEOQFQJDHgSAvAH48DgR5BRDkYSDIK4AgDwNBXgEEeRgI8grgx8NAkJcAQR4FgrwECPIoEOSsvP18v6T9xy/e//F+/4u/3//wj//7+uzjejEQ5LR8//R37//12f/+o9z++m7I258+f//0E4K0BUFOSyfIe0vyp3vOhr/I57c/f/HfaUEagyCn5S7I0IDc7k3I908/fH72Mb0eCHJavn8SeVfi95++3jPHffrl/sJ9SAItQZDTEluQL17k26/3Yfq3XzGkMQhyWsIY5Of73fsI/e1v8TVoBoKclk6Gt//wv723GvcG5N0R/+0/GYa0BUHOSv87iLxL8nt/9/Y/n7p7aAmCABggCIABggAYIAiAAYIAGCAIgAGCABggCIABggAYIAiAAYIAGCAIgAGCABggCIABggAYIAiAAYIAGCAIgAGCABggCIABggAYIAiAAYIAGCAIgAGCABggCIABggAYIAiAAYIAGCAIgAGCABggCIABggAYIAiAAYIAGCAIgAGCABggCIABggAYIAiAAYIAGCAIgAGCABggCIABggAYIAiAAYIAGCAIgAGCABggCIABggAYIAiAAYIAGCAIgAGCABggCIABggAYIAiAAYIAGCAIgAGCABggCIABggAYIAiAAYIAGCAIgAGCABggCIABggAYIAiAAYIAGCAIgAGCABggCIABggAYIAiAAYIAGCAIgAGCABggCIABggAYIAiAAYIAGCAIgAGCABggCIABggAYIAiAAYIAGCAIgAGCABggCIABggAYIAiAAYIAGCAIgAGCABggCIABggAYIAiAAYIAGCAIgAGCABggCIABggAYIAiAwf8DpKIcDdUJJgsAAAAASUVORK5CYII=" alt="Rplot.png" />
<p class="caption">Rplot.png</p>
</div>
</div>
<div id="xmlflat-xml" class="section level3">
<h3>XMLをflat XMLとして読み込む</h3>
<p>XMLを<code>flatxml::fxml_importXMLFlat()</code>で読み込んだflat XMLを返すことができる。</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">head</span>(pipian<span class="op">::</span><span class="kw">cabochaFlatXML</span>(<span class="st">&quot;ふと振り向くと、たくさんの味方がいてたくさんの優しい人間がいることを、わざわざ自分の誕生日が来ないと気付けない自分を奮い立たせながらも、毎日こんな、湖のようななんの引っ掛かりもない、落ちつき倒し、音一つも感じさせない人間でいれる方に憧れを持てたとある25歳の眩しき朝のことでした&quot;</span>))</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="co">#&gt;       elem. elemid. attr. value.    level1   level2 level3 level4</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="co">#&gt; 1 sentences       1  &lt;NA&gt;   &lt;NA&gt; sentences     &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="co">#&gt; 2  sentence       2  &lt;NA&gt;   &lt;NA&gt; sentences sentence   &lt;NA&gt;   &lt;NA&gt;</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="co">#&gt; 3     chunk       3  &lt;NA&gt;   &lt;NA&gt; sentences sentence  chunk   &lt;NA&gt;</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="co">#&gt; 4     chunk       3    id      0 sentences sentence  chunk   &lt;NA&gt;</span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co">#&gt; 5     chunk       3  link      1 sentences sentence  chunk   &lt;NA&gt;</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="co">#&gt; 6     chunk       3   rel      D sentences sentence  chunk   &lt;NA&gt;</span></a></code></pre></div>
</div>
<div id="flat-xml" class="section level3">
<h3>flat XMLの整形</h3>
<p><code>pipian::cabochaFlatXML(as.tibble = FALSE)</code>で出力したflat XMLをtibbleに整形できる。このtibbleは<a href="https://minowalab.org/cabochar/">CabochaR</a>が出力する形式を参考にしたもので、次のカラムからなる。</p>
<ul>
<li>chunk_id: 文節に対応するelemid.</li>
<li>D1: 文節のインデックス</li>
<li>D2: 文節の係り先のインデックス</li>
<li>rel:（よくわからない値）</li>
<li>score: 係り関係のスコア</li>
<li>head: 主辞の形態素のインデックス</li>
<li>func: 機能語の形態素のインデックス</li>
<li>tok_id: 形態素のインデックス</li>
<li>word: 表層形</li>
<li>POS1~POS4: 品詞, 品詞細分類1, 品詞細分類2, 品詞細分類3</li>
<li>X5StageUse1: 活用形</li>
<li>X5StageUse2: 活用型</li>
<li>Original: 原形</li>
<li>Yomi1~Yomi2: 読み, 発音</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">res &lt;-<span class="st"> </span>pipian<span class="op">::</span><span class="kw">cabochaFlatXML</span>(<span class="st">&quot;ふと振り向くと、たくさんの味方がいてたくさんの優しい人間がいることを、わざわざ自分の誕生日が来ないと気付けない自分を奮い立たせながらも、毎日こんな、湖のようななんの引っ掛かりもない、落ちつき倒し、音一つも感じさせない人間でいれる方に憧れを持てたとある25歳の眩しき朝のことでした&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="st">  </span>pipian<span class="op">::</span><span class="kw">CabochaR</span>()</a>
<a class="sourceLine" id="cb3-3" title="3"></a>
<a class="sourceLine" id="cb3-4" title="4">res<span class="op">$</span><span class="kw">as.tibble</span>()</a>
<a class="sourceLine" id="cb3-5" title="5"><span class="co">#&gt; # A tibble: 78 x 18</span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="co">#&gt;    chunk_id    D1    D2 rel    score  head  func tok_id word  POS1  POS2 </span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co">#&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;</span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="co">#&gt;  1        3     0     1 D      1.29      0     0      0 ふと  副詞  一般 </span></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="co">#&gt;  2        5     1    36 D     -2.34      1     2      1 振り向く~ 動詞  自立 </span></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="co">#&gt;  3        5     1    36 D     -2.34      1     2      2 と    助詞  接続助詞~</span></a>
<a class="sourceLine" id="cb3-11" title="11"><span class="co">#&gt;  4        5     1    36 D     -2.34      1     2      3 、    記号  読点 </span></a>
<a class="sourceLine" id="cb3-12" title="12"><span class="co">#&gt;  5        9     2     3 D      1.93      4     5      4 たくさん~ 名詞  副詞可能~</span></a>
<a class="sourceLine" id="cb3-13" title="13"><span class="co">#&gt;  6        9     2     3 D      1.93      4     5      5 の    助詞  連体化~</span></a>
<a class="sourceLine" id="cb3-14" title="14"><span class="co">#&gt;  7       12     3     4 D      0.834     6     7      6 味方  名詞  サ変接続~</span></a>
<a class="sourceLine" id="cb3-15" title="15"><span class="co">#&gt;  8       12     3     4 D      0.834     6     7      7 が    助詞  格助詞~</span></a>
<a class="sourceLine" id="cb3-16" title="16"><span class="co">#&gt;  9       15     4     8 D      2.02      8     9      8 い    動詞  自立 </span></a>
<a class="sourceLine" id="cb3-17" title="17"><span class="co">#&gt; 10       15     4     8 D      2.02      8     9      9 て    助詞  接続助詞~</span></a>
<a class="sourceLine" id="cb3-18" title="18"><span class="co">#&gt; # ... with 68 more rows, and 7 more variables: POS3 &lt;chr&gt;, POS4 &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb3-19" title="19"><span class="co">#&gt; #   X5StageUse1 &lt;chr&gt;, X5StageUse2 &lt;chr&gt;, Original &lt;chr&gt;, Yomi1 &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb3-20" title="20"><span class="co">#&gt; #   Yomi2 &lt;chr&gt;</span></a></code></pre></div>
</div>
</div>
<div id="section-3" class="section level2">
<h2>参考にしたはずの記事</h2>
<div id="igraph" class="section level3">
<h3>igraph</h3>
<ul>
<li><a href="https://sites.google.com/site/kztakemoto/r-seminar-on-igraph---supplementary-information">R+igraph – Kazuhiro Takemoto</a></li>
<li><a href="https://qiita.com/tomov3/items/c72e06eaf300b322e99d">R の igraph を使ってネットワークを分析する – Qiita</a></li>
</ul>
</div>
<div id="tidygraph-ggraph-visnetwork" class="section level3">
<h3>tidygraph, ggraph, visNetwork</h3>
<ul>
<li><a href="https://www.jessesadler.com/post/network-analysis-with-r/">Introduction to Network Analysis with R</a></li>
<li><a href="https://www.data-imaginist.com/2017/introducing-tidygraph/">Introducing tidygraph · Data Imaginist</a></li>
</ul>
</div>
<div id="section-4" class="section level3">
<h3>グラフの中心性について</h3>
<ul>
<li><a href="http://tjo.hatenablog.com/entry/2015/12/09/190000">グラフ・ネットワーク分析で遊ぶ(3)：中心性(PageRank, betweeness, closeness, etc.) – 六本木で働くデータサイエンティストのブログ</a></li>
</ul>
</div>
<div id="cabocha" class="section level3">
<h3>CaboCha</h3>
<ul>
<li><a href="https://qiita.com/nezuq/items/f481f07fc0576b38e81d">CaboChaで始める係り受け解析 - Qiita</a></li>
</ul>
<p>CaboChaが出力するXMLはそのままではパースできないので、適当なルートノードを追記する必要がある。</p>
<ul>
<li><a href="http://d.hatena.ne.jp/gepuro/20111014/1318610472">CaboChaによってXMLで出力されたファイルをパースする。 – gepuroの日記</a></li>
</ul>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
